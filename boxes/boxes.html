<html>
	<head>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<style type="text/css">
			.box {
				width: 100px;
				height: 100px;
				margin: 10px;
				position: relative;
				display: inline-block;
				*display: inline;
				zoom: 1;
				border: 3px solid black;
			}

			.little_box {
				width: 24px;
				height: 24px;
				position: absolute;
				top: 5px;
				left: 368px;
				z-index: +1;
				border: 3px solid black;
				background-color: yellow;
			}

			.blue_box {
				background-color: blue;
			}

			.red_box {
				background-color: red;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function(){
				$(".box").click(function(){
					$(this).addClass("blue_box");
					if($(".blue_box").length === $(".box").length) {
						setTimeout(function(){
							$(".box").removeClass("blue_box").addClass("red_box");
						}, 1000);
					}
				})
			})
		</script>
	</head>
	<body>
		<div id="all_boxes">
			<div class="row">
				<div class="box" id="box1"></div>
				<div class="box"></div>
				<div class="box"></div>
			</div>
			<div class="row">
				<div class="box"></div>
			</div>
			<div class="row">
				<div class="box"></div>
				<div class="box"></div>
				<div class="box"></div>
			</div>
			<div class="little_box"></div>
		</div>
	</body>
</html>